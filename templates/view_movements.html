<!-- templates/view_movements.html -->
{% extends 'base.html' %}

{% block content %}
<!DOCTYPE html>
<html>
<head>
    <title>Product Movements</title>
</head>
<body>
    <h1>Product Movements</h1>

    <form method="POST">
        <label>Product:</label>
        <select name="product_id">
            {% for product in products %}
                <option value="{{ product[0] }}">{{ product[1] }}</option>
            {% endfor %}
        </select><br><br>

        <label>From Location:</label>
        <select name="from_location">
            <option value="">-- None --</option>
            {% for location in locations %}
                <option value="{{ location[0] }}">{{ location[1] }}</option>
            {% endfor %}
        </select><br><br>

        <label>To Location:</label>
        <select name="to_location">
            <option value="">-- None --</option>
            {% for location in locations %}
                <option value="{{ location[0] }}">{{ location[1] }}</option>
            {% endfor %}
        </select><br><br>

        <label>Quantity:</label>
        <input type="number" name="qty" required><br><br>

        <button type="submit">Add Movement</button>
    </form>

    <h2>All Movements</h2>
    <table border="1">
        <tr>
            <th>Movement ID</th>
            <th>Product ID</th>
            <th>From Location</th>
            <th>To Location</th>
            <th>Quantity</th>
        </tr>
        {% for movement in movements %}
        <tr>
            <td>{{ movement[0] }}</td>
            <td>{{ movement[1] }}</td>
            <td>{{ movement[2] or '-' }}</td>
            <td>{{ movement[3] or '-' }}</td>
            <td>{{ movement[4] }}</td>
        </tr>
        {% endfor %}
    </table>

    <br>
    <a href="{{ url_for('report') }}">View Inventory Report</a>
</body>
</html>

{% endblock %}